<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <title>Niftycase Example</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="js/moment.js"></script>
    <style>
    .made-by
    {
      font-size: 12px;
      margin: 0.2rem 0.4rem;
    }
    .made-by,
    .made-by a,
    .made-by a:visited
    {
      color: #b0b2bd;
    }
    .made-by a:hover {
      color: #8492a2;
    }
    </style>
  </head>
  <body>
    <div id="nft-slider-1" class="nft-slider">
      <header>
        <div>
          <img class="eth-logo" id="eth-logo" width="0" height="0" src="media/eth.png" alt="">
        </div>
        <nav></nav>
      </header>
      <section class="nft-content">
      </section>
      <p class="made-by">Made with <a href="https://niftycase.io" target="_blank">Niftycase</a></p>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="js/custom_regexp.js"></script>
    <script src="js/nft_scroller.js"></script>
    <script src="js/nft_slider.js"></script>
    <script type="text/javascript">
      (function() {
        "use strict";

        $(document).ready(function() {

          const urlSearchParams = new URLSearchParams(window.location.search);
          const params = Object.fromEntries(urlSearchParams.entries());

          console.log(params);
          if (params.view && parseInt(params.view) === 2) {

            $('head').append('<link rel="stylesheet" href="css/nft_scroller.css" />');
            if (params.templ) {
              $('head').append($(`<link rel="stylesheet" href="css/nft_scroller.${params.templ}.css"))>`));
            }
            $('.nft-slider').each(function() {
              $(this).nftScroller({
                addr: params.addr
              });
              if (params.bg) {
                $('body').css('background-color', params.bg);
              }
            });

          } else {

            $('head').append('<link rel="stylesheet" href="css/nft_slider.css" />');
            if (params.templ) {
              $('head').append($(`<link rel="stylesheet" href="css/nft_slider.${params.templ}.css"))>`));
            }
            $('.nft-slider').each(function(index) {
              $(this).nftSlider({
                addr: params.addr
              });
              if (params.bg) {
                $('body').css('background-color', params.bg);
              }
            });

          }

          const bgColor = !params.bg_color ? false : color_regexp.test(params.bg_color) ? params.bg_color : false;

          if (bgColor) {
            const $nftSlider = document.querySelector(".nft-slider");

            $nftSlider.style.background = `#${bgColor}`
            document.body.style.background = `#${bgColor}`
            
          }

        });
      })();
    </script>
  </body>
</html>
